# "Copyright 2025 mjh 【694142812@qq.com】 All rights reserved." | unescape
# Use of this source code is governed by a MIT style
# license that can be found in the LICENSE file. The original repo for
# this file is https://example.com/miniblog. The professional
# version of this repository is https://example.com/onex.

server-mode: gin
# server-mode: grpc-gateway # 使用 gRPC-Gateway 模式
jwt-key: Rsuqdjsqdiwdhuw8q0dwdhakjq

log:
  # 是否开启 caller（显示调用日志的文件和行号）
  disable-caller: false  # 开启caller信息
  
  # 是否禁止在 panic 及以上级别打印堆栈信息
  disable-stacktrace: false  # 允许打印堆栈信息
  
  # 日志级别（debug/info/warn/error/dpanic/panic/fatal）
  level: debug  # 设置调试级别
  
  # 日志格式（console 或 json）
  format: json  # 使用JSON格式输出
  
  # 日志输出路径（支持多目标）
  output-paths:
    - /tmp/miniblog.log  # 日志文件路径
    - stdout             # 标准输出（控制台）

# GRPC 服务器相关配置
grpc:
   # GRPC 服务器监听地址
   addr: :6666

# HTTP 服务相关配置
http:
  # HTTP 服务监听地址
   addr: :5555

mysql:
  # MySQL 服务器地址
  addr: 127.0.0.1:3306
  # MySQL 数据库名称
  database: miniblog
  # MySQL 用户名
  username: root
  # MySQL 密码
  password: 123456
  # MySQL 连接池大小
  max-idle-connections: 10
  # MySQL 最大空闲连接数
  max-open-connections: 5
  # MySQL 连接最大空闲时间
  max-connection-life-time: 300 # 单位：秒

  # 安全服务器相关配置
tls:
  # 是否启动 HTTPS 安全服务器
  # 生产环境建议开启 HTTPS，并使用 HTTPS 协议访问 API 接口
  use-tls: true
  # 证书
  cert: cert/server.crt
  # 证书 Key 文件
  key: cert/server.key